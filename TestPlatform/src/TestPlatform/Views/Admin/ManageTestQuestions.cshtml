@model ManageTestQuestionsVM

<p>@Model.TestName</p>
<p>@Model.Description</p>


<ul>
    @foreach (var question in Model.Questions)
    {
        <li>
            <div style="border: solid black 1px;">
                @question.Name
                <a asp-controller="Admin" asp-action="ManageQuestion" asp-route-questionId="@question.Id" asp-route-testId="@Model.testId">Edit</a>
                <a asp-controller="Admin" asp-action="RemoveQuestion" asp-route-questionId="@question.Id" asp-route-testId="@Model.testId">>Remove</a>
                
                <button onclick="PartialUpdate(@question.Id)" id="previewId"> Preview </button>

                <div id="detailsDiv">
                    <br />
                     @Html.Partial("_QuestionFormPartial", Model.QuestionFormVM)
                    <br /> 
                </div>

            </div>
        </li>
    }
</ul>

<script>

    function PartialUpdate(id) {

        $.get("/Admin/PreviewQuestionPartial",
            { id: id },
            function (data) {
                $("#detailsDiv").html(data);

                console.log(id);
            });
    }


</script>